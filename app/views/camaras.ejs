<% include _head.ejs %>
<body ng-controller="CamarasCtrl" class="v-fondo">
<% include _navbar.ejs %>

<link href="lib/videojs/video-js.css" rel="stylesheet">
<link href="css/customvideo.css" rel="stylesheet">
<!-- If you'd like to support IE8 -->
<script src="lib/videojs/videojs-ie8.min.js"></script>
<script src="lib/videojs/video.js"></script>
<div class="container">
    <div class="row">
        <!-- <br><br> -->
        <h1 class="center indigo-text v-letra-subtitulo"> CÃ¡maras Activas </h1>
        <br>
    </div>
    <div class="row">
        <div class="col m3 s3">
            <div class="collection" ng-repeat="camara in camaras">
                <a ng-click="scrollTo(camara._id)" href="" class="collection-item">{{camara.name}}</a>
            </div>
        </div>
        <div class="col m9 s9">
            <div class="container">
                <div class="row">
                    <div ng-repeat="camara in camaras" class="repeat-item animated">
                        <link href="lib/videojs/video-js.css" rel="stylesheet">
                        <link href="css/customvideo.css" rel="stylesheet">
                        <!-- If you'd like to support IE8 -->
                        <script src="lib/videojs/videojs-ie8.min.js"></script>
                        <script src="lib/videojs/video.js"></script>
                        <div class="card v-camara-todo" ng-attr-id="{{'camara-'+camara._id}}">
                            <!-- <div class="card waves-effect waves-block waves-light z-depth-3 hoverable"> -->
                            <div class="card waves-block waves-light z-depth-3 hoverable">
                                <div class="card-content v-camara-video">
                                    <div class="row">
                                        <video  ng-attr-id="{{'video-'+camara._id}}" class="video-js vjs-default-skin responsive-video"
                                               autoplay="true" preload="none" width="440" height="248" data-setup='{}'>
                                            <source ng-src="{{camara.server}}" type='rtmp/mp4'>
                                            <p class="vjs-no-js"> To view this video please enable JavaScript </p>
                                        </video>
                                    </div>
                                </div>
                                <div class="v-robot">
                                    <form action="/robot" method="post">
                                        <button name="movimiento" value="rleft" id="rleft" class="btn-robot" onclick="moverRobot('rizq', {{'video-'+camara._id}}, {{camara.ip}})"><i class="fa fa-undo fa-2x" aria-hidden="true"></i></button>
                                        <button name="movimiento" value="up" id="up" class="btn-robot" onclick="moverRobot('arriba', {{'video-'+camara._id}}, {{camara.ip}})"><i class="fa fa-arrow-up fa-2x"></i></button>
                                        <button name="movimiento" value="rright" id="rright" class="btn-robot" onclick="moverRobot('rder', {{'video-'+camara._id}}, {{camara.ip}})"><i class="fa fa-repeat fa-2x" aria-hidden="true"></i></button>
                                        <div class="vacio"></div>
                                        <button name="movimiento" value="left" id="left" class="btn-robot" onclick="moverRobot('izq', {{'video-'+camara._id}}, {{camara.ip}})"><i class="fa fa-arrow-left fa-2x"></i></button>
                                        <button name="movimiento" value="down" id="down" class="btn-robot" onclick="moverRobot('abajo', {{'video-'+camara._id}}, {{camara.ip}})"><i class="fa fa-arrow-down fa-2x"></i></button>
                                        <button name="movimiento" value="right" id="right" class="btn-robot" onclick="moverRobot('der', {{'video-'+camara._id}}, {{camara.ip}})"><i class="fa fa-arrow-right fa-2x"></i></button>
                                        <div class="vacio"></div>
                                        <label for="vel-{{'video-'+camara._id}}">Velocidad</label>
                                        <input name="vel" id="vel-{{'video-'+camara._id}}" class="v-vel" type="range" min="10" max="100" value="40" step="10">
                                        <label for="tiempo-{{'video-'+camara._id}}">Tiempo</label>
                                        <input name="tiempo" id="tiempo-{{'video-'+camara._id}}" class="v-tiempo" type="range" min="1" max="10" value="3" step="1">
                                        <input type="hidden" name="ip" value="{{camara.ip}}">
                                    </form>
                                </div>
                                <div class="card-action v-camara-nombre">
                                    <span class="card-title grey-text text-darken-4">
                                        {{camara.name}}
                                    </span>
                                    <span class="card-title grey-text text-darken-4" style="margin-left:10px">
                                        ({{camara.ip}})
                                    </span>
                                    <!-- <span class="card-title grey-text text-darken">
                                        {{camara.server}}
                                    </span> -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
<script type="text/javascript">


</script>
<% include _footer.ejs %>
</body>
</html>
