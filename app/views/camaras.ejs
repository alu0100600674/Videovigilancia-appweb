<% include _head.ejs %>
<body ng-controller="CamarasCtrl" class="v-fondo">
<% include _navbar.ejs %>

<link href="lib/videojs/video-js.css" rel="stylesheet">
<link href="css/customvideo.css" rel="stylesheet">
<!-- If you'd like to support IE8 -->
<script src="lib/videojs/videojs-ie8.min.js"></script>
<script src="lib/videojs/video.js"></script>
<div class="container">
    <div class="row">
        <!-- <br><br> -->
        <h1 class="center indigo-text v-letra-subtitulo"> CÃ¡maras Activas </h1>
        <br>
    </div>
    <div class="row">
        <div class="col m3 s3">
            <div class="collection" ng-repeat="camara in camaras">
                <a ng-if="camara.nickname == ''" ng-click="scrollTo(camara._id)" href="" class="collection-item">{{camara.name}}</a>
                <a ng-if="camara.nickname != ''" ng-click="scrollTo(camara._id)" href="" class="collection-item">{{camara.nickname}}</a>
            </div>
        </div>
        <div class="col m9 s9">
            <div class="container">
                <div class="row">
                    <div ng-repeat="camara in camaras" class="repeat-item animated">
                        <link href="lib/videojs/video-js.css" rel="stylesheet">
                        <link href="css/customvideo.css" rel="stylesheet">
                        <!-- If you'd like to support IE8 -->
                        <script src="lib/videojs/videojs-ie8.min.js"></script>
                        <script src="lib/videojs/video.js"></script>
                        <div class="card v-camara-todo" ng-attr-id="{{'camara-'+camara._id}}">
                            <!-- <div class="card waves-effect waves-block waves-light z-depth-3 hoverable"> -->
                            <div class="card waves-block waves-light z-depth-3 hoverable">
                                <div class="card-content v-camara-video">
                                    <div class="row">
                                        <video  ng-attr-id="{{'video-'+camara._id}}" class="video-js vjs-default-skin responsive-video"
                                               autoplay="true" preload="none" width="440" height="248" data-setup='{}'>
                                            <source ng-src="{{camara.server}}" type='rtmp/mp4'>
                                            <p class="vjs-no-js"> To view this video please enable JavaScript </p>
                                        </video>
                                    </div>
                                </div>
                                <div class="v-robot">
                                    <form id="form-{{camara._id}}" name="form-{{camara._id}}">
                                        <button ng-click="moverRobot(camara._id, 'stopstreaming')" name="movimiento" value="stopstreaming" id="stopstreaming" class="btn-robot btn-left"><i class="fa fa-stop fa-2x" aria-hidden="true"></i></button>
                                        <button ng-click="moverRobot(camara._id, 'forwardleft')" name="movimiento" value="forwardleft" id="forwardleft" class="btn-robot"><i class="fa fa-arrow-left fa-2x" aria-hidden="true"></i></button>
                                        <button ng-click="moverRobot(camara._id, 'forward')" name="movimiento" value="forward" id="forward" class="btn-robot"><i class="fa fa-arrow-up fa-2x"></i></button>
                                        <button ng-click="moverRobot(camara._id, 'forwardright')" name="movimiento" value="forwardright" id="forwardright" class="btn-robot"><i class="fa fa-arrow-right fa-2x" aria-hidden="true"></i></button>
                                        <button ng-click="moverRobot(camara._id, 'robotstartoi')" name="movimiento" value="robotstartoi" id="robotstartoi" class="btn-robot btn-right"><i class="fa fa-exchange fa-2x" aria-hidden="true"></i></button>
                                        <div class="vacio"></div>
                                        <button ng-click="moverRobot(camara._id, 'flash')" name="movimiento" value="flash" id="flash" class="btn-robot btn-left"><i class="fa fa-bolt fa-2x" aria-hidden="true"></i></button>
                                        <button ng-click="moverRobot(camara._id, 'rotateleft')" name="movimiento" value="rotateleft" id="rotateleft" class="btn-robot"><i class="fa fa-undo fa-2x"></i></button>
                                        <button ng-click="moverRobot(camara._id, 'movestop')" name="movimiento" value="movestop" id="movestop" class="btn-robot"><i class="fa fa-arrows fa-2x"></i></button>
                                        <button ng-click="moverRobot(camara._id, 'rotateright')" name="movimiento" value="rotateright" id="rotateright" class="btn-robot"><i class="fa fa-repeat fa-2x"></i></button>
                                        <button ng-click="moverRobot(camara._id, 'robotsafemode')" name="movimiento" value="robotsafemode" id="robotsafemode" class="btn-robot btn-right"><i class="fa fa-gamepad fa-2x" aria-hidden="true"></i></button>
                                        <div class="vacio"></div>
                                        <button ng-click="moverRobot(camara._id, 'robotdock')" name="movimiento" value="robotdock" id="robotdock" class="btn-robot btn-left"><i class="fa fa-home fa-2x"></i></button>
                                        <button ng-click="moverRobot(camara._id, 'backwardleft')" name="movimiento" value="backwardleft" id="backwardleft" class="btn-robot"><i class="fa fa-arrow-left fa-2x"></i></button>
                                        <button ng-click="moverRobot(camara._id, 'backward')" name="movimiento" value="backward" id="backward" class="btn-robot"><i class="fa fa-arrow-down fa-2x"></i></button>
                                        <button ng-click="moverRobot(camara._id, 'backwardright')" name="movimiento" value="backwardright" id="backwardright" class="btn-robot"><i class="fa fa-arrow-right fa-2x"></i></button>
                                        <button ng-click="moverRobot(camara._id, 'robotstopmode')" name="movimiento" value="robotstopmode" id="robotstopmode" class="btn-robot btn-right"><i class="fa fa-android fa-2x"></i></button>
                                        <div class="vacio"></div>
                                        <label for="vel-{{'video-'+camara._id}}">Velocidad</label>
                                        <input name="vel" id="vel-{{'video-'+camara._id}}" class="v-vel" type="range" min="10" max="100" value="40" step="10">
                                        <label for="tiempo-{{'video-'+camara._id}}">Tiempo</label>
                                        <input name="tiempo" id="tiempo-{{'video-'+camara._id}}" class="v-tiempo" type="range" min="1" max="10" value="3" step="1">
                                        <input type="hidden" id="ip-{{'video-'+camara._id}}" name="ip" value="{{camara.ip}}">
                                    </form>
                                </div>
                                <div class="card-action v-camara-nombre">
                                    <span ng-if="camara.nickname == ''" class="card-title grey-text text-darken-4">
                                        {{camara.name}}
                                    </span>
                                    <span ng-if="camara.nickname != ''" class="card-title grey-text text-darken-4">
                                        {{camara.nickname}}
                                    </span>
                                    <span class="card-title grey-text text-darken-4" style="margin-left:10px">
                                        ({{camara.ip}})
                                    </span>
                                    <!-- <span class="card-title grey-text text-darken">
                                        {{camara.server}}
                                    </span> -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
<% include _footer.ejs %>
</body>
</html>
